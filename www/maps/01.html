<!DOCTYPE html>
<html>
<head>
<title>Basic Leaflet Map</title>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<link rel="stylesheet" href="css/leaflet.css" />
<style type="text/css">
body {
	padding: 0;
	margin: 0;
}
html, body, #map {
	height: 100%;
}
</style>
</head>
<body>
<div id="map"></div>
<script src="js/leaflet.js"></script> 
<script>
	var map = L.map('map').setView([36.3183, 59.5547], 12);
	L.tileLayer('images/MapQuest/{z}/{x}/{y}.jpg', {
		maxZoom: 18			
	}).addTo(map);
	
	//////////////////////////////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////////////////
	var marker = L.marker([36.31, 59.59]).addTo(map);
	
	var circle = L.circle([36.31, 59.51], 500, {
		color: 'red',
		fillColor: '#f03',
		fillOpacity: 0.5
	}).addTo(map);
	
	var polygon = L.polygon([
		[36.319, 59.58],
		[36.313, 59.56],
		[36.32, 59.547]
	]).addTo(map);
	
	marker.bindPopup("<b>Hello world!</b><br>I am a popup.").openPopup();
	circle.bindPopup("I am a circle.");
	polygon.bindPopup("I am a polygon.");
	
	//////////////////////////////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////////////////
	var greenIcon = L.icon({
		iconUrl: 'js/images/leaf-green.png',
		shadowUrl: 'js/images/leaf-shadow.png',

		iconSize:     [38, 95], // size of the icon
		shadowSize:   [50, 64], // size of the shadow
		iconAnchor:   [22, 94], // point of the icon which will correspond to marker's location
		shadowAnchor: [4, 62],  // the same for the shadow
		popupAnchor:  [-3, -76] // point from which the popup should open relative to the iconAnchor
	});
	
	//////////////////////////////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////////////////
	var LeafIcon = L.Icon.extend({
		options: {
			shadowUrl: 'js/images/leaf-shadow.png',
			iconSize:     [38, 95],
			shadowSize:   [50, 64],
			iconAnchor:   [22, 94],
			shadowAnchor: [4, 62],
			popupAnchor:  [-3, -76]
		}
	});
	var redIcon = new LeafIcon({iconUrl: 'js/images/leaf-red.png'}),
		orangeIcon = new LeafIcon({iconUrl: 'js/images/leaf-orange.png'});
	
	//////////////////////////////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////////////////
	L.marker([36.309, 59.68], {icon: greenIcon}).addTo(map);
	L.marker([36.319, 59.73], {icon: redIcon}).addTo(map).bindPopup("I am a red leaf.");
	L.marker([36.329, 59.68], {icon: orangeIcon}).addTo(map);
	
	//////////////////////////////////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////////////////////////////////
	function onLocationFound(e) {
		var radius = e.accuracy / 2;

		L.marker(e.latlng).addTo(map)
			.bindPopup("You are within " + radius + " meters from this point").openPopup();

		L.circle(e.latlng, radius).addTo(map);
	}

	map.on('locationfound', onLocationFound);
</script>
</body>
</html>